{"ast":null,"code":"import _slicedToArray from\"/Users/garnaouik/Documents/github-repos/git-repositories/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import axios from'axios';import Repository from\"./Repository\";import Loader from\"react-loader-spinner\";import'../Scss/User.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function User(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),apiUser=_useState2[0],setApiUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),repos=_useState4[0],setRepos=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredRepositories=_useState6[0],setFilteredRepositories=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var _useParams=useParams(),user=_useParams.user;var history=useHistory();useEffect(function(){getUser();getRepos();},[]);function searchRepo(e){var searchLabel=e.target.value.toLowerCase();if(searchLabel===''){setFilteredRepositories(repos);}else{var repositories=repos.filter(function(repo){return repo.name.toLowerCase().includes(searchLabel);});setFilteredRepositories(repositories);}}var getUser=function getUser(){axios.get(\"https://api.github.com/users/\"+user).then(function(res){setApiUser(res.data);}).catch(function(error){history.push('/404');});};var getRepos=function getRepos(){axios.get(\"https://api.github.com/users/\"+user+'/repos').then(function(res){setRepos(res.data);setFilteredRepositories(res.data);setIsLoading(false);}).catch(function(error){});};return/*#__PURE__*/_jsx(\"div\",{children:isLoading?/*#__PURE__*/_jsx(Loader,{className:'spinner',type:\"Rings\",color:\"#353b48\",height:300,width:300}):/*#__PURE__*/_jsx(\"div\",{className:'user-container',children:/*#__PURE__*/_jsxs(\"div\",{className:'container',children:[/*#__PURE__*/_jsxs(\"div\",{className:'user-infos-container col-md-3 col-12 me-4',children:[/*#__PURE__*/_jsx(\"div\",{className:'user-avatar-container',children:/*#__PURE__*/_jsx(\"img\",{className:'user-avatar img-fluid',src:apiUser.avatar_url,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:'user-infos',children:[/*#__PURE__*/_jsx(\"div\",{className:'user-name',children:apiUser.name}),/*#__PURE__*/_jsx(\"div\",{className:'user-login',children:apiUser.login}),/*#__PURE__*/_jsx(\"div\",{className:'user-bio',children:apiUser.bio})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:'user-repos-container col-md-9 col-12',children:[/*#__PURE__*/_jsx(\"div\",{className:'user-repos-header',children:/*#__PURE__*/_jsx(\"div\",{className:'text-container',children:/*#__PURE__*/_jsx(\"div\",{className:'text',children:\"Repositories\"})})}),/*#__PURE__*/_jsx(\"div\",{className:'search-input-container mt-3',children:/*#__PURE__*/_jsx(\"input\",{className:'search-input',onChange:function onChange(e){return searchRepo(e);},type:\"text\",placeholder:'Type the repository name you\\'re looking for'})}),/*#__PURE__*/_jsx(\"div\",{className:'repositories-container',children:filteredRepositories.length?filteredRepositories.map(function(repo){return/*#__PURE__*/_jsx(Repository,{repo:repo},repo.id);}):/*#__PURE__*/_jsx(\"div\",{className:'no-repos',children:\"0 repositories found.\"})})]})]})})});}","map":{"version":3,"sources":["/Users/garnaouik/Documents/github-repos/git-repositories/src/Components/User.js"],"names":["React","useEffect","useState","useParams","useHistory","axios","Repository","Loader","User","apiUser","setApiUser","repos","setRepos","filteredRepositories","setFilteredRepositories","isLoading","setIsLoading","user","history","getUser","getRepos","searchRepo","e","searchLabel","target","value","toLowerCase","repositories","filter","repo","name","includes","get","then","res","data","catch","error","push","avatar_url","login","bio","length","map","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport Repository from \"./Repository\";\nimport Loader from \"react-loader-spinner\";\nimport '../Scss/User.scss';\n\n\nexport default function User() {\n\n    const [apiUser, setApiUser] = useState({});\n    const [repos, setRepos] = useState([]);\n    const [filteredRepositories, setFilteredRepositories] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n\n    const { user } = useParams();\n    const history = useHistory();\n\n    useEffect(() => {\n        getUser();\n        getRepos();\n    }, []);\n\n\n    function searchRepo(e) {\n        const searchLabel = e.target.value.toLowerCase();\n        if (searchLabel === '') {\n            setFilteredRepositories(repos);\n        } else {\n            const repositories = repos.filter(repo => repo.name.toLowerCase().includes(searchLabel));\n            setFilteredRepositories(repositories)\n        }\n\n    }\n\n    const getUser = () => {\n        axios.get(`https://api.github.com/users/` + user)\n            .then(res => {\n                setApiUser(res.data);\n            })\n            .catch(error => {\n                history.push('/404');\n            });\n    }\n\n    const getRepos = () => {\n        axios.get(`https://api.github.com/users/` + user + '/repos')\n            .then(res => {\n                setRepos(res.data);\n                setFilteredRepositories(res.data);\n                setIsLoading(false);\n            })\n            .catch(error => {\n            });\n    }\n\n    return (\n        <div>\n            {isLoading ? (\n                <Loader\n                    className={'spinner'}\n                    type=\"Rings\"\n                    color=\"#353b48\"\n                    height={300}\n                    width={300}\n                />\n            ) : (\n                <div className={'user-container'}>\n                    <div className={'container'}>\n                        <div className={'user-infos-container col-md-3 col-12 me-4'}>\n                            <div className={'user-avatar-container'}>\n                                <img className={'user-avatar img-fluid'} src={apiUser.avatar_url} alt=\"\" />\n                            </div>\n                            <div className={'user-infos'}>\n                                <div className={'user-name'}>{apiUser.name}</div>\n                                <div className={'user-login'}>{apiUser.login}</div>\n                                <div className={'user-bio'}>{apiUser.bio}</div>\n                            </div>\n                        </div>\n                        <div className={'user-repos-container col-md-9 col-12'}>\n                            <div className={'user-repos-header'}>\n                                <div className={'text-container'}>\n                                    <div className={'text'}>\n                                        Repositories\n                                    </div>\n\n                                </div>\n                            </div>\n\n                            <div className={'search-input-container mt-3'}>\n                                <input className={'search-input'}\n                                    onChange={(e) => searchRepo(e)}\n                                    type=\"text\"\n                                    placeholder={'Type the repository name you\\'re looking for'} />\n                            </div>\n\n                            <div className={'repositories-container'}>\n                                {\n                                    filteredRepositories.length ? (\n                                        filteredRepositories.map(repo => <Repository key={repo.id} repo={repo} />)\n                                    ) : (\n                                        <div className={'no-repos'}>0 repositories found.</div>\n                                    )\n                                }\n                                { }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            )}\n\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}